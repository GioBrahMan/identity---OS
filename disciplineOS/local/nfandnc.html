<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Discipline OS â€” NoFap + NoCorn (Local)</title>

  <style>
    :root{
      --bg:#050608;
      --bg-soft:#0b0c10;
      --ink:#f5f5f7;
      --muted:#9ea2b0;

      --border-soft:rgba(255,255,255,0.14);
      --border-strong:rgba(255,255,255,0.32);
      --glass:linear-gradient(135deg, rgba(255,255,255,0.08), rgba(255,255,255,0.01));

      --shadow-soft:0 18px 60px rgba(0,0,0,0.85);
      --shadow-card:0 24px 80px rgba(0,0,0,0.95);
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }

    body{
      margin:0;
      font-family:system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", Roboto, sans-serif;
      color:var(--ink);
      background:
        radial-gradient(circle at 0% 0%, #181a23 0, transparent 55%),
        radial-gradient(circle at 100% 0%, #181823 0, transparent 55%),
        radial-gradient(circle at 50% 120%, #111219 0, var(--bg) 60%);
      -webkit-font-smoothing:antialiased;
      scroll-behavior:smooth;
    }

    body::before{
      content:"";
      position:fixed;
      inset:0;
      pointer-events:none;
      opacity:0.14;
      z-index:0;
      background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 160 160' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='noStitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.55'/%3E%3C/svg%3E");
      mix-blend-mode:screen;
    }

    .page{
      position:relative;
      z-index:1;
      max-width:1120px;
      margin:0 auto;
      padding:24px 20px 80px;
    }

    /* NAVBAR */
    .nav{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
      padding:6px 6px 18px;
      border-bottom:1px solid rgba(255,255,255,0.04);
      position:sticky;
      top:0;
      backdrop-filter:blur(18px);
      background:linear-gradient(to bottom, rgba(5,6,8,0.9), rgba(5,6,8,0.75), transparent);
      z-index:10;
    }

    .nav-left{ display:flex; align-items:center; gap:10px; }
    .nav-right{
      display:flex;
      gap:18px;
      align-items:center;
      font-size:12px;
      letter-spacing:0.18em;
      text-transform:uppercase;
      color:var(--muted);
    }
    .nav-right div{ position:relative; padding-right:18px; }
    .nav-right div:not(:last-child)::after{
      content:"Â·";
      position:absolute;
      right:0;
      opacity:0.9;
      font-weight:600;
    }

    .logo-mark{
      width:26px;
      height:26px;
      border-radius:7px;
      border:1px solid var(--border-strong);
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow:0 0 0 1px rgba(255,255,255,0.04), 0 12px 40px rgba(0,0,0,0.8);
      background:radial-gradient(circle at 30% 0%, rgba(255,255,255,0.18), transparent 60%);
      position:relative;
      overflow:hidden;
    }
    .logo-mark::after{
      content:"";
      position:absolute;
      inset:0;
      background:linear-gradient(135deg, rgba(255,255,255,0.18), transparent 60%);
      mix-blend-mode:soft-light;
      opacity:0.7;
    }
    .logo-mark span{
      font-size:12px;
      font-weight:600;
      letter-spacing:0.08em;
    }

    .logo-text{ display:flex; flex-direction:column; gap:1px; }
    .logo-title{
      font-size:14px;
      font-weight:600;
      letter-spacing:0.14em;
      text-transform:uppercase;
    }
    .logo-sub{
      font-size:10px;
      text-transform:uppercase;
      letter-spacing:0.14em;
      color:var(--muted);
      opacity:0.9;
    }

    /* BUTTONS */
    .btn-primary, .btn-ghost, .btn-subtle{
      border-radius:999px;
      padding:10px 18px;
      font-size:12px;
      font-weight:500;
      letter-spacing:0.18em;
      text-transform:uppercase;
      border:1px solid transparent;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap:8px;
      text-decoration:none;
      transition:all 0.2s ease-out;
      position:relative;
      overflow:hidden;
      white-space:nowrap;
    }

    .btn-primary{
      color:var(--bg);
      background:linear-gradient(135deg, #ffffff, #e6e6ea);
      box-shadow:0 12px 40px rgba(0,0,0,0.95);
    }
    .btn-primary::after{
      content:"";
      position:absolute;
      inset:-40%;
      background:linear-gradient(120deg, rgba(255,255,255,0.5), transparent 55%);
      opacity:0;
      transform:translateX(-40%);
      transition:opacity 0.25s ease-out, transform 0.45s ease-out;
    }
    .btn-primary:hover::after{ opacity:1; transform:translateX(0%); }
    .btn-primary:hover{
      transform:translateY(-1px) scale(1.01);
      box-shadow:0 18px 55px rgba(0,0,0,0.9);
    }

    .btn-ghost{
      color:var(--ink);
      border-color:var(--border-soft);
      background:radial-gradient(circle at 0 0, rgba(255,255,255,0.08), transparent 60%);
    }
    .btn-ghost:hover{
      border-color:var(--border-strong);
      background:radial-gradient(circle at 0 0, rgba(255,255,255,0.16), transparent 60%);
      transform:translateY(-1px);
    }

    .btn-subtle{
      color:var(--muted);
      border-color:rgba(255,255,255,0.12);
      background:transparent;
      font-size:10px;
      padding:7px 14px;
    }
    .btn-subtle:hover{
      border-color:rgba(255,255,255,0.3);
      color:var(--ink);
      transform:translateY(-1px);
    }

    .btn-row{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      margin-top:16px;
      align-items:center;
    }

    /* SECTION */
    section{ padding:36px 0; border-top:1px solid rgba(255,255,255,0.04); }
    .section-label{
      font-size:11px;
      text-transform:uppercase;
      letter-spacing:0.26em;
      color:var(--muted);
      margin-bottom:12px;
    }
    .section-heading{
      font-size:24px;
      line-height:1.35;
      max-width:540px;
      margin-bottom:8px;
    }
    .section-sub{
      font-size:13px;
      color:var(--muted);
      max-width:520px;
      line-height:1.8;
    }

    /* LAYOUT */
    .identity-layout{
      margin-top:26px;
      display:grid;
      grid-template-columns:minmax(0,1.2fr) minmax(0,1fr);
      gap:28px;
      align-items:flex-start;
    }

    .identity-card{
      border-radius:20px;
      border:1px solid var(--border-soft);
      background:
        radial-gradient(circle at 0 0, rgba(255,255,255,0.15), transparent 60%),
        linear-gradient(180deg, rgba(0,0,0,0.92), rgba(0,0,0,0.98));
      box-shadow:var(--shadow-soft);
      padding:18px;
      display:flex;
      flex-direction:column;
      gap:14px;
    }

    .identity-card-header{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:12px;
    }

    .pill-tag{
      font-size:10px;
      text-transform:uppercase;
      letter-spacing:0.22em;
      color:var(--muted);
    }
    .pill-tag span{ color:rgba(245,245,247,0.9); }

    .identity-card-title{
      font-size:16px;
      font-weight:500;
      margin-bottom:4px;
    }

    .identity-card-text{
      font-size:12px;
      color:var(--muted);
      line-height:1.8;
    }

    .identity-textarea{
      width:100%;
      min-height:180px;
      max-height:280px;
      resize:vertical;
      border-radius:14px;
      border:1px solid var(--border-soft);
      background:radial-gradient(circle at 0 0, rgba(255,255,255,0.08), transparent 60%);
      padding:12px 13px;
      font-size:12px;
      line-height:1.7;
      color:var(--ink);
      font-family:inherit;
      outline:none;
      box-shadow:inset 0 0 0 1px rgba(0,0,0,0.7);
      white-space:pre-wrap;
    }

    .identity-textarea::placeholder{ color:rgba(158,162,176,0.9); }

    .identity-meta{
      font-size:10px;
      text-transform:uppercase;
      letter-spacing:0.18em;
      color:var(--muted);
      margin-top:2px;
    }

    .identity-hint{
      font-size:11px;
      color:var(--muted);
      line-height:1.6;
      margin-top:4px;
    }

    .message{
      margin-top:8px;
      font-size:11px;
      line-height:1.5;
      padding:8px 10px;
      border-radius:10px;
      border:1px solid transparent;
    }

    .message.success{
      border-color:rgba(76,242,158,0.5);
      background:rgba(13,45,25,0.9);
      color:rgba(214,252,231,0.96);
    }

    .message.error{
      border-color:rgba(255,120,120,0.7);
      background:rgba(56,9,9,0.95);
      color:rgba(255,216,216,0.98);
    }

    /* STREAK CARD */
    .streak-card{
      border-radius:18px;
      border:1px solid rgba(255,255,255,0.22);
      background:
        radial-gradient(circle at 0 0, rgba(255,255,255,0.18), transparent 60%),
        linear-gradient(180deg, rgba(0,0,0,0.9), rgba(0,0,0,0.98));
      box-shadow:var(--shadow-card);
      padding:16px;
      font-size:11px;
      display:flex;
      flex-direction:column;
      gap:10px;
      position:sticky;
      top:92px;
      align-self:start;
      max-height:calc(100vh - 110px);
      overflow-y:auto;
      overflow-x:hidden;
      overscroll-behavior: contain;
      -webkit-overflow-scrolling: touch;
      scrollbar-width:none;
    }
    .streak-card::-webkit-scrollbar{ width:0; height:0; }

    .streak-card::before{
      content:"IDENTITY STREAK";
      position:absolute;
      top:10px;
      right:-40px;
      font-size:9px;
      text-transform:uppercase;
      letter-spacing:0.25em;
      color:rgba(255,255,255,0.14);
      transform:rotate(-28deg);
    }

    .streak-top-row{
      display:flex;
      justify-content:space-between;
      align-items:center;
    }

    .streak-label{
      font-size:10px;
      text-transform:uppercase;
      letter-spacing:0.22em;
      color:var(--muted);
    }

    .streak-status-pill{
      font-size:9px;
      text-transform:uppercase;
      letter-spacing:0.18em;
      border-radius:999px;
      border:1px solid rgba(255,255,255,0.24);
      padding:4px 8px;
      display:flex;
      align-items:center;
      gap:6px;
    }

    .streak-status-pill span{
      width:6px;
      height:6px;
      border-radius:999px;
      background:#4cf29e;
      border:1px solid #4cf29e;
      animation:livePulse 1.8s ease-in-out infinite;
    }

    .streak-main{ margin-top:6px; }

    .streak-day{
      font-size:26px;
      font-weight:600;
      letter-spacing:0.12em;
      display:flex;
      align-items:center;
      gap:6px;
    }

    .flame{
      font-size:18px;
      filter:drop-shadow(0 0 8px rgba(255,255,255,0.7));
    }

    .streak-caption{
      font-size:10px;
      text-transform:uppercase;
      letter-spacing:0.16em;
      color:var(--muted);
      margin-top:4px;
    }

    .streak-identity-box{
      margin-top:12px;
      border-radius:12px;
      border:1px dashed rgba(255,255,255,0.22);
      padding:8px 10px;
      background:radial-gradient(circle at 0 0, rgba(255,255,255,0.08), transparent 60%);
      font-size:11px;
      line-height:1.7;
    }

    .streak-identity-label{
      font-size:10px;
      text-transform:uppercase;
      letter-spacing:0.16em;
      color:var(--muted);
      margin-bottom:4px;
    }

    .streak-identity-text{
      font-family:ui-monospace, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      white-space:pre-wrap;
    }

    .streak-footer{
      margin-top:10px;
      padding-top:8px;
      border-top:1px dashed rgba(255,255,255,0.22);
      font-size:9px;
      text-transform:uppercase;
      letter-spacing:0.2em;
      color:rgba(245,245,247,0.8);
      display:flex;
      justify-content:space-between;
      gap:8px;
      flex-wrap:wrap;
    }

    @keyframes livePulse{
      0%{ box-shadow:0 0 4px rgba(76,242,158,0.4); transform:scale(1); }
      50%{ box-shadow:0 0 10px rgba(76,242,158,0.9); transform:scale(1.15); }
      100%{ box-shadow:0 0 4px rgba(76,242,158,0.4); transform:scale(1); }
    }

    @media (max-width:900px){
      .identity-layout{ grid-template-columns:minmax(0,1fr); }
    }
    @media (max-width:680px){
      .nav{
        flex-direction:column;
        align-items:flex-start;
        gap:10px;
        padding-bottom:14px;
      }
      .page{ padding-inline:16px; }
    }

    .footer{
      border-top:1px solid rgba(255,255,255,0.06);
      padding-top:18px;
      margin-top:40px;
      font-family:ui-monospace, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size:11px;
      color:var(--muted);
      display:flex;
      flex-wrap:wrap;
      justify-content:space-between;
      gap:10px;
    }
    .footer-line{ white-space:nowrap; }
  </style>
</head>

<body>
  <div class="page">
    <header class="nav">
      <div class="nav-left">
        <div class="logo-mark"><span>OS</span></div>
        <div class="logo-text">
          <div class="logo-title">Discipline OS</div>
          <div class="logo-sub">Life Operating System</div>
        </div>
      </div>
      <div class="nav-right">
        <div>HEALTHY SOCIAL MEDIA USAGE</div>
        <div>NO FAP + NO CORN</div>
        <div>MONK MODE</div>
      </div>
    </header>

    <main>
      <section>
        <div class="section-label">Module 02 Â· NoFap + NoCorn (Local)</div>
        <h1 class="section-heading">NoFap + NoCorn Identity Streak</h1>
        <p class="section-sub">
          Local/offline tracker for daily check-ins (stored in your browser only).
          Perfect for filming your YouTube check-ins without needing Supabase.
        </p>

        <div class="identity-layout">
          <div class="identity-card">
            <div class="identity-card-header">
              <div>
                <div class="pill-tag"><span>Identity Console</span> Â· Local</div>
                <div class="identity-card-title">Type your identity statement</div>
              </div>
            </div>

            <p class="identity-card-text">
              First time here? Type an identity statement that hits home for you.
              Every morning after that, retype it exactly and press <strong>CHECK IN</strong> to advance your streak.
              You can update your identity later without losing your streak.
            </p>

            <textarea
              class="identity-textarea"
              id="identityInput"
              placeholder="Example:&#10;I am a man who no longer seeks corn.&#10;I am a man who no longer faps.&#10;From here on until I die, I will say no to corn.&#10;From here on until I die, I will be part of the no fap movement.&#10;#we never fold&#10;#say no to lust"
            ></textarea>

            <div class="identity-meta">Type with purpose. Every line matters.</div>

            <div class="identity-hint">
              â€¢ Press <strong>CHECK IN</strong> once each morning to log your day.<br/>
              â€¢ Press <strong>SAVE / UPDATE IDENTITY</strong> to change your saved statement â€” streak stays.<br/>
              â€¢ Press <strong>RESET STREAK</strong> to set Day 0 (identity stays).
            </div>

            <div class="btn-row">
              <button class="btn-primary" id="checkInBtn">Check In</button>
              <button class="btn-ghost" id="saveIdentityBtn">Save / Update Identity</button>
              <button class="btn-subtle" id="resetStreakBtn">Reset Streak</button>
              <button class="btn-subtle" id="exportBtn" title="Downloads a JSON backup">Export</button>
              <label class="btn-subtle" style="cursor:pointer;">
                Import
                <input id="importFile" type="file" accept="application/json" style="display:none;" />
              </label>
            </div>

            <div id="message" class="message" style="display:none;"></div>
          </div>

          <aside class="streak-card">
            <div class="streak-top-row">
              <div class="streak-label">Your Identity Streak</div>
              <div class="streak-status-pill"><span></span> Local Mode</div>
            </div>

            <div class="streak-main">
              <div class="streak-day">
                <span class="flame">ðŸ”¥</span>
                <span id="streakDayText">Day 0</span>
              </div>
              <div class="streak-caption">NoFap + NoCorn Â· Identity Logged</div>
            </div>

            <div class="streak-identity-box">
              <div class="streak-identity-label">Saved Identity Statement</div>
              <div class="streak-identity-text" id="savedIdentityText">
No identity saved yet. Your first check-in will lock it in.
              </div>
            </div>

            <div class="streak-footer">
              <span id="lastCheckInText">Last Check-In: â€”</span>
              <span>Identity is built one check-in at a time.</span>
            </div>
          </aside>
        </div>
      </section>
    </main>

    <footer class="footer">
      <div class="footer-line">&gt; MODULE STATUS: ACTIVE Â· NOFAP + NOCORN</div>
      <div class="footer-line" id="uptimeLine">UPTIME: 00:00:01 Â· USER: LOCAL</div>
      <div class="footer-line">Â© Discipline OS Â· Life Operating System</div>
    </footer>
  </div>

  <script>
    // ============================
    // LOCAL STORAGE KEYS (namespaced)
    // ============================
    const KEY = {
      identity: 'dos_nofap_identity_v1',
      streak: 'dos_nofap_streak_v1',
      lastDate: 'dos_nofap_last_checkin_date_v1',
      lastTime: 'dos_nofap_last_checkin_time_v1'
    }

    // UI Elements
    const identityInput = document.getElementById('identityInput')
    const streakDayText = document.getElementById('streakDayText')
    const savedIdentityText = document.getElementById('savedIdentityText')
    const lastCheckInText = document.getElementById('lastCheckInText')
    const messageEl = document.getElementById('message')

    const checkInBtn = document.getElementById('checkInBtn')
    const saveIdentityBtn = document.getElementById('saveIdentityBtn')
    const resetStreakBtn = document.getElementById('resetStreakBtn')
    const exportBtn = document.getElementById('exportBtn')
    const importFile = document.getElementById('importFile')
    const uptimeLine = document.getElementById('uptimeLine')

    // ============================
    // HELPERS
    // ============================
    function getTodayKey() {
      const now = new Date()
      const y = now.getFullYear()
      const m = String(now.getMonth() + 1).padStart(2, '0')
      const d = String(now.getDate()).padStart(2, '0')
      return `${y}-${m}-${d}`
    }

    function getTimeString() {
      const d = new Date()
      const hh = String(d.getHours()).padStart(2, '0')
      const mm = String(d.getMinutes()).padStart(2, '0')
      const ss = String(d.getSeconds()).padStart(2, '0')
      return `${hh}:${mm}:${ss}`
    }

    function getPrettyDate(dateKey) {
      if (!dateKey) return 'â€”'
      const [y, m, d] = dateKey.split('-').map(Number)
      const date = new Date(y, m - 1, d)
      return date.toLocaleDateString(undefined, { year:'numeric', month:'long', day:'numeric' })
    }

    function showMessage(text, type) {
      messageEl.textContent = text
      messageEl.className = 'message ' + type
      messageEl.style.display = 'block'
      setTimeout(() => { messageEl.style.display = 'none' }, 5000)
    }

    function clearMessage() { messageEl.style.display = 'none' }

    function normalizeNewlines(str) {
      // Keep your exactness, but make sure the browser doesn't mix \r\n vs \n
      return String(str).replace(/\r\n/g, '\n')
    }

    // ============================
    // STATE (local)
    // ============================
    function getState() {
      const identity = localStorage.getItem(KEY.identity) || ''
      const streak = Number(localStorage.getItem(KEY.streak) || 0)
      const lastDate = localStorage.getItem(KEY.lastDate) || ''
      const lastTime = localStorage.getItem(KEY.lastTime) || ''
      return { identity, streak, lastDate, lastTime }
    }

    function setState(patch) {
      const current = getState()
      const next = { ...current, ...patch }

      localStorage.setItem(KEY.identity, next.identity ?? '')
      localStorage.setItem(KEY.streak, String(Number(next.streak || 0)))
      localStorage.setItem(KEY.lastDate, next.lastDate ?? '')
      localStorage.setItem(KEY.lastTime, next.lastTime ?? '')

      render()
    }

    function render() {
      const { identity, streak, lastDate, lastTime } = getState()

      streakDayText.textContent = `Day ${streak}`
      savedIdentityText.textContent = identity
        ? identity
        : 'No identity saved yet. Your first check-in will lock it in.'

      if (lastDate) {
        const pretty = getPrettyDate(lastDate)
        lastCheckInText.textContent = `Last Check-In: ${pretty} Â· ${lastTime || '--:--'}`
      } else {
        lastCheckInText.textContent = 'Last Check-In: â€”'
      }
    }

    // ============================
    // ACTIONS
    // ============================
    checkInBtn.addEventListener('click', () => {
      clearMessage()

      const inputRaw = identityInput.value
      const input = normalizeNewlines(inputRaw)

      if (!input.trim()) {
        showMessage('Type your identity statement before checking in.', 'error')
        return
      }

      const todayKey = getTodayKey()
      const nowTime = getTimeString()

      const current = getState()
      const saved = normalizeNewlines(current.identity || '')

      // First ever check-in (no saved identity)
      if (!saved) {
        setState({
          identity: input,
          streak: 1,
          lastDate: todayKey,
          lastTime: nowTime
        })
        showMessage('Identity locked in. Day 1 started (local).', 'success')
        return
      }

      // Already checked in today -> update time only
      if (current.lastDate === todayKey) {
        setState({ lastTime: nowTime })
        showMessage('Already checked in today. Time updated.', 'success')
        return
      }

      // Must match exactly (including line breaks / spaces)
      if (input !== saved) {
        showMessage(
          'This doesn\'t match your saved identity statement exactly. Check line breaks, punctuation, and spacing â€” or use "Save / Update Identity" if you evolved your statement.',
          'error'
        )
        return
      }

      // New day check-in -> increment streak
      setState({
        streak: current.streak + 1,
        lastDate: todayKey,
        lastTime: nowTime
      })
      showMessage(`Check-in logged. You are now on Day ${current.streak + 1}.`, 'success')
    })

    saveIdentityBtn.addEventListener('click', () => {
      clearMessage()
      const inputRaw = identityInput.value
      const input = normalizeNewlines(inputRaw)

      if (!input.trim()) {
        showMessage('Type an identity statement before saving.', 'error')
        return
      }

      const current = getState()

      // Save/Update identity without changing streak
      setState({ identity: input })

      if (!current.identity) {
        showMessage('Identity saved. Retype it exactly and press "Check In" to start Day 1.', 'success')
      } else {
        showMessage('Identity updated. Your streak stays the same.', 'success')
      }
    })

    resetStreakBtn.addEventListener('click', () => {
      clearMessage()
      if (!confirm('Reset streak to Day 0? (Identity stays saved)')) return
      setState({ streak: 0, lastDate: '', lastTime: '' })
      showMessage('Streak reset to Day 0. Identity still saved.', 'success')
    })

    // ============================
    // EXPORT / IMPORT (backup)
    // ============================
    exportBtn.addEventListener('click', () => {
      const state = getState()
      const blob = new Blob([JSON.stringify({ ...state, exportedAt: new Date().toISOString() }, null, 2)], { type:'application/json' })
      const a = document.createElement('a')
      a.href = URL.createObjectURL(blob)
      a.download = 'discipline-os-nofap-local-backup.json'
      document.body.appendChild(a)
      a.click()
      a.remove()
      URL.revokeObjectURL(a.href)
      showMessage('Exported backup JSON.', 'success')
    })

    importFile.addEventListener('change', async (e) => {
      clearMessage()
      const file = e.target.files && e.target.files[0]
      if (!file) return

      try{
        const text = await file.text()
        const parsed = JSON.parse(text)

        const identity = normalizeNewlines(parsed.identity || '')
        const streak = Number(parsed.streak || 0)
        const lastDate = parsed.lastDate || ''
        const lastTime = parsed.lastTime || ''

        setState({ identity, streak, lastDate, lastTime })
        showMessage('Imported backup successfully.', 'success')
      } catch (err){
        console.error(err)
        showMessage('Import failed. Make sure itâ€™s a valid backup JSON.', 'error')
      } finally {
        e.target.value = ''
      }
    })

    // ============================
    // UPTIME (cosmetic)
    // ============================
    const start = Date.now()
    setInterval(() => {
      const s = Math.floor((Date.now() - start) / 1000)
      const hh = String(Math.floor(s / 3600)).padStart(2,'0')
      const mm = String(Math.floor((s % 3600) / 60)).padStart(2,'0')
      const ss = String(s % 60).padStart(2,'0')
      uptimeLine.textContent = `UPTIME: ${hh}:${mm}:${ss} Â· USER: LOCAL`
    }, 1000)

    // INIT
    const s = getState()
    if (!s.lastDate && s.streak === 0) {
    setState({ streak: 49 })
    } else {
    render()
    }

  </script>
</body>
</html>
